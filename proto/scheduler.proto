syntax = "proto3";

import "trigger.proto";

package scheduler_proto;

service Scheduler {
  /// Install or update a trigger onto the scheduler
  rpc InstallTrigger (InstallTriggerRequest)  returns (InstallTriggerResponse);
  /// Manually run a trigger
  rpc ExecuteTrigger (ExecuteTriggerRequest)  returns (ExecuteTriggerResponse);
  /// Get a trigger by id
  rpc GetTrigger (GetTriggerRequest)  returns (GetTriggerResponse);
  /// Retrieve a trigger by token
  rpc FindTriggers (FindTriggersRequest)  returns (FindTriggersResponse);
}

// == INSTALL OR UPDATE EXISTING TRIGGER ==
message InstallTriggerRequest {
  trigger_proto.Trigger trigger = 1;
}

message InstallTriggerResponse {

}

// == EXECUTE TRIGGER MANUALLY ==
message ExecuteTriggerRequest {
}

message ExecuteTriggerResponse {
}

// == GET TRIGGER ==
message GetTriggerRequest {
  string id = 1;
}

message GetTriggerResponse {
  trigger_proto.Trigger trigger = 1;
}

// == Find TRIGGERS ==
message FindTriggersRequest {
}
message FindTriggersResponse {
}
